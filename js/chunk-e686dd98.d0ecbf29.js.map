{"version":3,"sources":["webpack:///./src/components/UserCard.vue?52ee","webpack:///./src/components/UserCardEdit.vue?7833","webpack:///src/components/UserCardEdit.vue","webpack:///./src/components/UserCardEdit.vue?11e2","webpack:///./src/components/UserCardEdit.vue","webpack:///src/components/UserCard.vue","webpack:///./src/components/UserCard.vue?ab58","webpack:///./src/components/UserCard.vue","webpack:///./src/apis/users.js","webpack:///./src/views/UserSelf.vue?a0c5","webpack:///src/views/UserSelf.vue","webpack:///./src/views/UserSelf.vue?9db9","webpack:///./src/views/UserSelf.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","back","attrs","_v","_s","userData","name","tweetCount","directives","rawName","value","$route","asd","zxc","expression","_f","cover","avatar","showEditModal","isNotice","isProcessing","deleteFollow","id","addFollow","account","introduction","params","followingCount","follwerCount","staticRenderFns","hideEditModal","preventDefault","stopPropagation","handleSubmit","handleFileChange","clearCover","class","isInvalid","modifiers","domProps","target","composing","$set","trim","$forceUpdate","worLimitMessage","wordLimitCount","data","text","computed","input","number","length","methods","files","imageURL","window","URL","createObjectURL","currentUser","fire","icon","title","form","formData","FormData","statusText","$store","commit","user","$modal","hide","Toast","created","component","mixins","components","UserCardEdit","props","currentUserData","type","default","email","isFollowed","whichPage","require","watch","newValue","fetchUser","show","userId","status","Error","message","console","followingId","getToken","localStorage","getItem","getUser","apiHelper","get","headers","Authorization","getUserTweets","getUserReplies","getUserLikes","getFollowers","getFollowings","editInformation","put","signEdit","password","checkPassword","post","delete","getTopUser","activeTabs","selfTweet","push","tabNow","reply","like","UserCard","response","users"],"mappings":"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","file":"js/chunk-e686dd98.d0ecbf29.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userCard-wrapper\"},[_c('div',{staticClass:\"title-wrapper\"},[_c('button',{on:{\"click\":function($event){return _vm.$router.back()}}},[_c('img',{staticClass:\"arrow\",attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"name-wrapper\"},[_vm._v(\" \"+_vm._s(_vm.userData.name)+\" \"),_c('div',{staticClass:\"tweetCount\"},[_vm._v(_vm._s(_vm.userData.tweetCount)+\"推文\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.$route.name!==_vm.asd&&this.$route.name!==_vm.zxc),expression:\"this.$route.name!==asd&&this.$route.name!==zxc\"}],staticClass:\"user-wrapper\"},[_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.userData.cover),\"alt\":\"\"}}),_c('img',{staticClass:\"avatar-big\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.userData.avatar),\"alt\":\"\"}}),(_vm.whichPage)?_c('button',{staticClass:\"btn btn-edit\",on:{\"click\":function($event){return _vm.showEditModal()}}},[_vm._v(\" 編輯個人資料 \")]):_c('div',{staticClass:\"otherButton\"},[_c('img',{staticClass:\"message\",attrs:{\"src\":\"\",\"alt\":\"\"}}),(_vm.isNotice)?_c('img',{staticClass:\"notice\",attrs:{\"src\":\"\",\"alt\":\"\"},on:{\"click\":function($event){_vm.isNotice = false}}}):_c('img',{staticClass:\"notice-active\",attrs:{\"src\":\"\",\"alt\":\"\"},on:{\"click\":function($event){_vm.isNotice = true}}}),(_vm.userData.isFollowed)?_c('button',{staticClass:\"btn btnDeleteFollow\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.deleteFollow(_vm.userData.id)}}},[_vm._v(\" 正在追隨 \")]):_c('button',{staticClass:\"btn btnAddFollow\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.addFollow(_vm.userData.id)}}},[_vm._v(\" 追隨 \")])]),_c('div',{staticClass:\"information-wrapper\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.userData.name))]),_c('div',{staticClass:\"account\"},[_vm._v(_vm._s(_vm._f(\"accountTag\")(_vm.userData.account)))]),_c('div',{staticClass:\"introduce\"},[_vm._v(_vm._s(_vm.userData.introduction))]),_c('div',{staticClass:\"follow\"},[_c('router-link',{staticClass:\"strong\",attrs:{\"to\":{ name: 'followings', params: { id: _vm.userData.id } }}},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormatTC\")(_vm.userData.followingCount))+\"個 \")]),_vm._v(\" 追隨中 \"),_c('router-link',{staticClass:\"strong2\",attrs:{\"to\":{ name: 'followers', params: { id: _vm.userData.id } }}},[_vm._v(_vm._s(_vm._f(\"numberFormatTC\")(_vm.userData.follwerCount))+\"位 \")]),_vm._v(\" 追隨者 \")],1)])]),_c('UserCardEdit')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"name\":\"userCardEdit\",\"classes\":\"userCardEdit-modal\",\"width\":600,\"height\":657,\"clickToClose\":false}},[_c('div',{staticClass:\"userCardEdit-wrapper\"},[_c('div',{staticClass:\"userCardEdit-head\"},[_c('img',{staticClass:\"cross-orange\",attrs:{\"alt\":\"\"},on:{\"click\":function($event){return _vm.hideEditModal()}}}),_c('h3',[_vm._v(\"編輯個人資料\")]),_c('button',{staticClass:\"btn active\",attrs:{\"type\":\"submit\",\"form\":\"userCardForm\",\"disabled\":_vm.isProcessing}},[_vm._v(\"儲存\")])]),_c('div',{staticClass:\"userCardEdit-body\"},[_c('form',{staticClass:\"form-wrapper\",attrs:{\"action\":\"\",\"id\":\"userCardForm\"},on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"form-image-wrapper\"},[_c('div',{staticClass:\"form-image-cover\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cover),expression:\"cover\"}],staticClass:\"cover\",attrs:{\"src\":_vm.cover}}),_c('label',{staticClass:\"camera\",attrs:{\"for\":\"cover\"}}),_c('input',{attrs:{\"type\":\"file\",\"id\":\"cover\",\"name\":\"cover\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.handleFileChange($event, 'cover')}}}),_c('img',{staticClass:\"cross-white cancel\",on:{\"click\":function($event){return _vm.clearCover()}}})]),_c('div',{staticClass:\"form-image-avatar\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.avatar),expression:\"avatar\"}],staticClass:\"avatar\",attrs:{\"src\":_vm.avatar}}),_c('label',{staticClass:\"camera\",attrs:{\"for\":\"avatar\"}}),_c('input',{attrs:{\"type\":\"file\",\"id\":\"avatar\",\"name\":\"avatar\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.handleFileChange($event, 'avatar')}}})])]),_c('div',{staticClass:\"form-input-wrapper\"},[_c('label',{class:['label', { isInvalid: _vm.name.isInvalid }],attrs:{\"for\":\"name\"}},[_vm._v(\" 名稱 \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.name.text),expression:\"name.text\",modifiers:{\"trim\":true}}],attrs:{\"name\":\"name\",\"type\":\"text\",\"id\":\"name\"},domProps:{\"value\":(_vm.name.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.name, \"text\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"wordLimit-wrapper\"},[_c('h5',[_vm._v(_vm._s(_vm.worLimitMessage(_vm.name, 50)))]),_c('h5',[_vm._v(_vm._s(_vm.wordLimitCount(_vm.name, 50)))])]),_c('label',{class:['textarea', 'label', { isInvalid: _vm.introduction.isInvalid }],attrs:{\"for\":\"introduction\"}},[_vm._v(\"自我介紹 \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.introduction.text),expression:\"introduction.text\",modifiers:{\"trim\":true}}],attrs:{\"name\":\"introduction\",\"id\":\"introduction\"},domProps:{\"value\":(_vm.introduction.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.introduction, \"text\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"wordLimit-wrapper\"},[_c('h5',[_vm._v(_vm._s(_vm.worLimitMessage(_vm.introduction, 160)))]),_c('h5',[_vm._v(_vm._s(_vm.wordLimitCount(_vm.introduction, 160)))])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <modal\r\n    name=\"userCardEdit\"\r\n    classes=\"userCardEdit-modal\"\r\n    :width=\"600\" :height=\"657\"\r\n    :clickToClose=\"false\">\r\n    <div class=\"userCardEdit-wrapper\">\r\n      <div class=\"userCardEdit-head\">\r\n        <img class=\"cross-orange\" alt=\"\" @click=\"hideEditModal()\">\r\n        <h3>編輯個人資料</h3>\r\n        <button\r\n          class=\"btn active\"\r\n          type=\"submit\"\r\n          form=\"userCardForm\"\r\n          :disabled=\"isProcessing\">儲存</button>\r\n      </div>\r\n      <div class=\"userCardEdit-body\">\r\n        <form action=\"\" class=\"form-wrapper\"\r\n          id=\"userCardForm\" \r\n          @submit.prevent.stop=\"handleSubmit($event)\">\r\n          <div class=\"form-image-wrapper\">\r\n            <div class=\"form-image-cover\">\r\n              <img class=\"cover\" :src=\"cover\" v-show=\"cover\">\r\n              <label for=\"cover\" class=\"camera\"></label>\r\n              <input \r\n                type=\"file\"\r\n                id=\"cover\"\r\n                name=\"cover\"\r\n                accept=\"image/*\"\r\n                @change=\"handleFileChange($event, 'cover')\">\r\n              <img class=\"cross-white cancel\" @click=\"clearCover()\"/>\r\n            </div>\r\n            <div class=\"form-image-avatar\">\r\n              <img class=\"avatar\" :src=\"avatar\" v-show=\"avatar\">\r\n              <label for=\"avatar\" class=\"camera\"></label>\r\n              <input\r\n                type=\"file\"\r\n                id=\"avatar\"\r\n                name=\"avatar\"\r\n                accept=\"image/*\"\r\n                @change=\"handleFileChange($event, 'avatar')\">\r\n            </div>\r\n          </div>\r\n          <div class=\"form-input-wrapper\">\r\n            <!-- 輸入框 -->\r\n            <label for=\"name\" :class=\"['label', { isInvalid: name.isInvalid }]\">\r\n            名稱\r\n            <input \r\n              v-model.trim=\"name.text\"\r\n              name=\"name\"\r\n              type=\"text\"\r\n              id=\"name\">\r\n            </label>\r\n            <div class=\"wordLimit-wrapper\">\r\n              <h5>{{ worLimitMessage(name, 50) }}</h5>\r\n              <h5>{{ wordLimitCount(name, 50) }}</h5>\r\n            </div>\r\n            <!-- 輸入框 -->\r\n            <label for=\"introduction\"\r\n              :class=\"['textarea', 'label', { isInvalid: introduction.isInvalid }]\"\r\n            >自我介紹\r\n              <textarea\r\n                v-model.trim=\"introduction.text\"\r\n                name=\"introduction\"\r\n                id=\"introduction\">\r\n              </textarea>\r\n            </label>\r\n            <div class=\"wordLimit-wrapper\">\r\n              <h5>{{ worLimitMessage(introduction, 160) }}</h5>\r\n              <h5>{{ wordLimitCount(introduction, 160) }}</h5>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </modal>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport usersAPI from \"../apis/users\"\r\nimport { Toast } from \"../utils/helpers\"\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // input 一個輸入框為一組\r\n      name: {\r\n        text: \"\",\r\n        isInvalid: false,\r\n      },\r\n      introduction: {\r\n        text: \"\",\r\n        isInvalid: false,\r\n      },\r\n      cover: \"\",\r\n      avatar: \"\",\r\n      isProcessing: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n    worLimitMessage() {\r\n      return (input, number) => {\r\n        if (input.text.length > number) {\r\n          input.isInvalid = true\r\n          return '字數超過上限！'\r\n        } else {\r\n          input.isInvalid = false\r\n          return \"\"\r\n        }\r\n      }\r\n    },\r\n    wordLimitCount() {\r\n      // 計算帶入input的字數\r\n      return (input, number) => {\r\n        if (input.text.length < 1) return \"\"\r\n        else return input.text.length + \"/\" + number\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    handleFileChange($event, input) {\r\n      const { files } = $event.target\r\n      // 上傳視窗點擊「取消」 清空圖片連結\r\n      if (files.length === 0) {\r\n        if (input === 'cover') return this.cover = ''\r\n        else if (input === 'avatar') return this.avatar = ''\r\n      }\r\n      // 上傳視窗點擊「開啟」 將圖片連結放入 data 並讓使用者預覽\r\n      const imageURL = window.URL.createObjectURL(files[0])\r\n      if (input === 'cover') this.cover = imageURL\r\n      else if (input === 'avatar') this.avatar = imageURL\r\n    },\r\n    clearCover() {\r\n      this.cover = \"\"\r\n    },\r\n    async handleSubmit($event) {\r\n      try {\r\n        const id = this.currentUser.id\r\n        if (this.name.isInvalid || this.introduction.isInvalid) {\r\n          return Toast.fire({\r\n            icon: \"warning\",\r\n            title: \"字數超出上限！\"\r\n          })\r\n        }\r\n        if (this.name.text.length < 1) {\r\n          return Toast.fire({\r\n            icon: \"warning\",\r\n            title: \"請輸入使用名稱\"\r\n          })\r\n        }\r\n        const form = $event.target\r\n        const formData = new FormData(form)\r\n\r\n        this.isProcessing = true\r\n        const { statusText , data } = await usersAPI.editInformation({\r\n          id,\r\n          formData,\r\n        })\r\n        if(statusText !== \"OK\" || data.status !== \"success\") throw new Error()\r\n        this.isProcessing = false\r\n        this.$store.commit('setCurrentUser', data.user)\r\n        this.$modal.hide(\"userCardEdit\");\r\n\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法編輯資料，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    hideEditModal() {\r\n      // 關閉 modal\r\n      this.$modal.hide(\"userCardEdit\");\r\n      this.name.text = this.currentUser.name\r\n      this.cover = this.currentUser.cover\r\n      this.avatar = this.currentUser.avatar\r\n    },\r\n  },\r\n  created() {\r\n    // 將 vuex 使用者資料帶入、讓使用者預覽\r\n    this.name.text = this.currentUser.name \r\n    this.cover = this.currentUser.cover\r\n    this.avatar = this.currentUser.avatar\r\n  },\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCardEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCardEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCardEdit.vue?vue&type=template&id=d6ec465e&\"\nimport script from \"./UserCardEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCardEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"userCard-wrapper\">\r\n    <div class=\"title-wrapper\">\r\n      <button @click=\"$router.back()\">\r\n        <img alt=\"\" class=\"arrow\" />\r\n      </button>\r\n      <div class=\"name-wrapper\">\r\n        {{ userData.name }}\r\n        <div class=\"tweetCount\">{{ userData.tweetCount }}推文</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"user-wrapper\" v-show=\"this.$route.name!==asd&&this.$route.name!==zxc\">\r\n      <img :src=\"userData.cover | emptyImage\" alt=\"\" class=\"cover\" />\r\n      <img :src=\"userData.avatar | emptyImage\" alt=\"\" class=\"avatar-big\" />\r\n      <button class=\"btn btn-edit\" v-if=\"whichPage\" @click=\"showEditModal()\">\r\n        編輯個人資料\r\n      </button>\r\n      <div class=\"otherButton\" v-else>\r\n        <img src=\"\" alt=\"\" class=\"message\" />\r\n        <img\r\n          src=\"\"\r\n          alt=\"\"\r\n          class=\"notice\"\r\n          v-if=\"isNotice\"\r\n          @click=\"isNotice = false\"\r\n        />\r\n        <img\r\n          src=\"\"\r\n          alt=\"\"\r\n          class=\"notice-active\"\r\n          v-else\r\n          @click=\"isNotice = true\"\r\n        />\r\n        <button\r\n          class=\"btn btnDeleteFollow\"\r\n          v-if=\"userData.isFollowed\"\r\n          @click=\"deleteFollow(userData.id)\"\r\n          :disabled=\"isProcessing\"\r\n        >\r\n          正在追隨\r\n        </button>\r\n        <button\r\n          class=\"btn btnAddFollow\"\r\n          v-else\r\n          @click=\"addFollow(userData.id)\"\r\n          :disabled=\"isProcessing\"\r\n        >\r\n          追隨\r\n        </button>\r\n      </div>\r\n      <div class=\"information-wrapper\">\r\n        <div class=\"name\">{{ userData.name }}</div>\r\n        <div class=\"account\">{{ userData.account | accountTag }}</div>\r\n        <div class=\"introduce\">{{ userData.introduction }}</div>\r\n        <div class=\"follow\">\r\n          <router-link\r\n            :to=\"{ name: 'followings', params: { id: userData.id } }\"\r\n            class=\"strong\"\r\n          >\r\n            {{ userData.followingCount | numberFormatTC }}個\r\n          </router-link>\r\n          追隨中\r\n          <router-link\r\n            :to=\"{ name: 'followers', params: { id: userData.id } }\"\r\n            class=\"strong2\"\r\n            >{{ userData.follwerCount | numberFormatTC }}位\r\n          </router-link>\r\n          追隨者\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Modal -->\r\n    <UserCardEdit />\r\n    <!-- Modal -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserCardEdit from \"../components/UserCardEdit.vue\";\r\nimport { accountTagFilter } from \"./../utils/mixins\";\r\nimport { numberFormatTCFilter } from \"./../utils/mixins\";\r\nimport { emptyImageFilter } from \"../utils/mixins\";\r\nimport usersAPI from \"./../apis/users\";\r\nimport { Toast } from \"../utils/helpers\";\r\n\r\nexport default {\r\n  mixins: [accountTagFilter, numberFormatTCFilter, emptyImageFilter],\r\n  components: {\r\n    UserCardEdit,\r\n  },\r\n  props: {\r\n    currentUserData: {\r\n      type: Object,\r\n      default: () => ({\r\n        id: 0,\r\n        account: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        avatar: \"\",\r\n        cover: \"\",\r\n        introduction: \"\",\r\n        followingCount: 0,\r\n        follwerCount: 0,\r\n        isFollowed: \"\",\r\n        tweetCount: 0,\r\n      }),\r\n    },\r\n    whichPage: {\r\n      type: Boolean,\r\n      require: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      userData: {\r\n        id: 0,\r\n        account: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        avatar: \"\",\r\n        cover: \"\",\r\n        introduction: \"\",\r\n        followingCount: 0,\r\n        follwerCount: 0,\r\n        isFollowed: \"\",\r\n        tweetCount: 0,\r\n      },\r\n      isNotice: true,\r\n      isProcessing: false,\r\n      asd: \"followers\", //判斷用\r\n      zxc: \"followings\", //判斷用\r\n    };\r\n  },\r\n  watch: {\r\n    currentUserData(newValue) {\r\n      this.userData = {\r\n        ...this.userData,\r\n        ...newValue,\r\n      };\r\n    },\r\n  },\r\n  created() {\r\n    this.fetchUser();\r\n  },\r\n  methods: {\r\n    fetchUser() {\r\n      this.userData.id = this.currentUserData.id;\r\n      this.userData.account = this.currentUserData.account;\r\n      this.userData.name = this.currentUserData.name;\r\n      this.userData.email = this.currentUserData.email;\r\n      this.userData.avatar = this.currentUserData.avatar;\r\n      this.userData.cover = this.currentUserData.cover;\r\n      this.userData.introduction = this.currentUserData.introduction;\r\n      this.userData.followingCount = this.currentUserData.followingCount;\r\n      this.userData.follwerCount = this.currentUserData.follwerCount;\r\n      this.userData.isFollowed = this.currentUserData.isFollowed;\r\n      this.userData.tweetCount = this.currentUserData.tweetCount;\r\n    },\r\n    showEditModal() {\r\n      // 打開 modal\r\n      this.$modal.show(\"userCardEdit\");\r\n    },\r\n    hideEditModal() {\r\n      // (預設)關閉 modal\r\n      this.$modal.hide(\"userCardEdit\");\r\n    },\r\n    async addFollow(userId) {\r\n      try {\r\n        this.isProcessing = true;\r\n        const { data } = await usersAPI.addFollow({ id: userId });\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.isProcessing = false;\r\n        this.userData = {\r\n          ...this.userData,\r\n          isFollowed: true,\r\n          follwerCount: this.userData.follwerCount+1,\r\n        };\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法追隨使用者，請稍後再試\",\r\n        });\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async deleteFollow(followingId) {\r\n      try {\r\n        this.isProcessing = true;\r\n        const { data } = await usersAPI.deleteFollow({ followingId });\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.isProcessing = false;\r\n        this.userData = {\r\n          ...this.userData,\r\n          isFollowed: false,\r\n          follwerCount: this.userData.follwerCount-1,\r\n        };\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取消追隨使用者，請稍後再試\",\r\n        });\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCard.vue?vue&type=template&id=32efb684&\"\nimport script from \"./UserCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from './../utils/helpers'\r\nconst getToken = () => localStorage.getItem('token')\r\n\r\nexport default {\r\n  // 查看指定使用者的資料\r\n  getUser({ userId }) {\r\n    return apiHelper.get(`api/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  // 查看指定使用者的推文\r\n  getUserTweets({ userId }) {\r\n    return apiHelper.get(`api/users/${userId}/tweets`, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  // 查看指定使用者的回覆推文\r\n  getUserReplies({ userId }) {\r\n    return apiHelper.get(`api/users/${userId}/replied_tweets`, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  // 查看指定使用者的喜歡推文\r\n  getUserLikes({ userId }) {\r\n    return apiHelper.get(`api/users/${userId}/likes`, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  // 查看指定使用者的追隨者\r\n  getFollowers({ userId }) {\r\n    return apiHelper.get(`api/users/${userId}/followers`, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  // 查看指定使用者的正在跟隨\r\n  getFollowings({ userId }) {\r\n    return apiHelper.get(`api/users/${userId}/followings`, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  // 修改個人基本資料\r\n  editInformation({ id, formData }) {\r\n    return apiHelper.put(`api/users/${id}`, formData, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  // 修改個人帳號密碼\r\n  signEdit({ userId, account, name, email, password, checkPassword }) {\r\n    return apiHelper.put(`api/users/${userId}/edit`, { account, name, email, password, checkPassword }, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  // 追隨\r\n  addFollow({ id }) {\r\n    return apiHelper.post('/api/followships', { id }, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  // 取消追隨\r\n  deleteFollow({ followingId }) {\r\n    return apiHelper.delete(`api/followships/${followingId}`, {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n  //取得熱門使用者\r\n  getTopUser() {\r\n    return apiHelper.get(\"api/users/top\", {\r\n      headers: { Authorization: `Bearer ${getToken()}` }\r\n    })\r\n  },\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"middle-container\"},[_c('UserCard',{attrs:{\"currentUserData\":_vm.currentUserData,\"whichPage\":_vm.whichPage}}),_c('div',{staticClass:\"switchTabs\"},[_c('div',{staticClass:\"tweetTab\",class:[{ activeTabs: this.$route.name === _vm.selfTweet }],on:{\"click\":function($event){_vm.$router.push({ name: 'selfTweet' }), (_vm.tabNow = 1)}}},[_vm._v(\" 推文 \")]),_c('div',{staticClass:\"replyTab\",class:[{ activeTabs: this.$route.name === _vm.reply }],on:{\"click\":function($event){_vm.$router.push({ name: 'reply' }), (_vm.tabNow = 2)}}},[_vm._v(\" 推文與回覆 \")]),_c('div',{staticClass:\"likeTab\",class:[{ activeTabs: this.$route.name === _vm.like }],on:{\"click\":function($event){_vm.$router.push({ name: 'like' }), (_vm.tabNow = 3)}}},[_vm._v(\" 喜歡的內容 \")])]),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"middle-container\">\r\n    <UserCard :currentUserData=\"currentUserData\" :whichPage=\"whichPage\" />\r\n    <div class=\"switchTabs\">\r\n      <div\r\n        class=\"tweetTab\"\r\n        :class=\"[{ activeTabs: this.$route.name === selfTweet }]\"\r\n        @click=\"$router.push({ name: 'selfTweet' }), (tabNow = 1)\"\r\n      >\r\n        推文\r\n      </div>\r\n      <div\r\n        class=\"replyTab\"\r\n        :class=\"[{ activeTabs: this.$route.name === reply }]\"\r\n        @click=\"$router.push({ name: 'reply' }), (tabNow = 2)\"\r\n      >\r\n        推文與回覆\r\n      </div>\r\n      <div\r\n        class=\"likeTab\"\r\n        :class=\"[{ activeTabs: this.$route.name === like }]\"\r\n        @click=\"$router.push({ name: 'like' }), (tabNow = 3)\"\r\n      >\r\n        喜歡的內容\r\n      </div>\r\n    </div>\r\n    <router-view />\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserCard from \"./../components/UserCard\";\r\nimport usersAPI from \"./../apis/users\";\r\nimport { Toast } from \"../utils/helpers\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    UserCard,\r\n  },\r\n  data() {\r\n    return {\r\n      whichPage: true, //true代表個人false代表他人\r\n      tabNow: 1, //1推文 2回復 3喜歡\r\n      selfTweet: \"selfTweet\", //判斷用\r\n      reply: \"reply\", //判斷用\r\n      like: \"like\", //判斷用\r\n      currentUserData: {\r\n        id: 0,\r\n        account: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        avatar: \"\",\r\n        cover: \"\",\r\n        introduction: \"\",\r\n        followingCount: 0,\r\n        follwerCount: 0,\r\n        tweetCount: 0,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n  methods: {\r\n    async fetchUser() {\r\n      try {\r\n        const response = await usersAPI.getUser({\r\n          userId: this.currentUser.id,\r\n        });\r\n\r\n        this.currentUserData = {\r\n          id: response.data.id,\r\n          account: response.data.account,\r\n          name: response.data.name,\r\n          email: response.data.email,\r\n          avatar: response.data.avatar,\r\n          cover: response.data.cover,\r\n          introduction: response.data.introduction,\r\n          followingCount: response.data.followingCount,\r\n          follwerCount: response.data.follwerCount,\r\n          tweetCount: response.data.tweetCount,\r\n        };\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得使用者資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.fetchUser();\r\n  },\r\n\r\n  watch: {\r\n    currentUser(newValue) {\r\n      // 監控 UserCardEdit 是否修改 vuex 資料\r\n      // 將新資料覆蓋進 data 中渲染畫面\r\n      this.currentUserData = {\r\n        ...this.currentUserData,\r\n        ...newValue,\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelf.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSelf.vue?vue&type=template&id=23ef14ca&\"\nimport script from \"./UserSelf.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSelf.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}